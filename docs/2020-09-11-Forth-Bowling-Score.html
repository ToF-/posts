<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Bowling Score Kata - ToF&#x27;s Blog</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="posts linked-in et autres">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="Introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="DetteTechnique.html"><strong aria-hidden="true">2.</strong> Dette Technique</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-03-11-DT-1.html"><strong aria-hidden="true">2.1.</strong> La Dette Technique, qu'est-ce que c'est ?</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-2.html"><strong aria-hidden="true">2.2.</strong> Chiffrer la Dette ?</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-3.html"><strong aria-hidden="true">2.3.</strong> Une Traduction Incoh√©rente</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-4.html"><strong aria-hidden="true">2.4.</strong> Au C≈ìur du Processus</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-5.html"><strong aria-hidden="true">2.5.</strong> Le R√¥le du Management</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-6.html"><strong aria-hidden="true">2.6.</strong> Un √âtat de l'Art D√©salign√©</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-7.html"><strong aria-hidden="true">2.7.</strong> Pratiques de Pr√©vention</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-8.html"><strong aria-hidden="true">2.8.</strong> Le R√¥le du Product Owner</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-9.html"><strong aria-hidden="true">2.9.</strong> Un Levier de Vitesse</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-10.html"><strong aria-hidden="true">2.10.</strong> Retour d'Information</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-11.html"><strong aria-hidden="true">2.11.</strong> Une Facture Imaginaire</a></li><li class="chapter-item expanded "><a href="2023-03-11-DT-12.html"><strong aria-hidden="true">2.12.</strong> Mission Failed ?</a></li></ol></li><li class="chapter-item expanded "><a href="Coherence.html"><strong aria-hidden="true">3.</strong> Coh√©rence</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-03-12-CO-0.html"><strong aria-hidden="true">3.1.</strong> Quel Probl√®me Essayons Nous de R√©soudre Ensemble ?</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-1.html"><strong aria-hidden="true">3.2.</strong> √Ä la Recherche de la Coh√©rence</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-2.html"><strong aria-hidden="true">3.3.</strong> 3 Sources sur la Dette Technique</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-3.html"><strong aria-hidden="true">3.4.</strong> D√©sp√©cialiser</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-4.html"><strong aria-hidden="true">3.5.</strong> √âtat de l'Art et Coh√©rence</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-5.html"><strong aria-hidden="true">3.6.</strong> Outillage</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-6.html"><strong aria-hidden="true">3.7.</strong> √âtat de l'Art, Coh√©rence et Dette Technique</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-7.html"><strong aria-hidden="true">3.8.</strong> Coh√©rence Perdue</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-8.html"><strong aria-hidden="true">3.9.</strong> M√©taphores</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-9.html"><strong aria-hidden="true">3.10.</strong> Factory</a></li><li class="chapter-item expanded "><a href="2023-03-12-CO-10.html"><strong aria-hidden="true">3.11.</strong> Conversations, Observations</a></li></ol></li><li class="chapter-item expanded "><a href="SortirDesRonces.html"><strong aria-hidden="true">4.</strong> Sortir des Ronces</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-03-18-OW-0.html"><strong aria-hidden="true">4.1.</strong> Contre-Effet de Levier</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-1.html"><strong aria-hidden="true">4.2.</strong> Qualit√©, Co√ªts, D√©lais</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-2.html"><strong aria-hidden="true">4.3.</strong> Sortir des Ronces</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-3.html"><strong aria-hidden="true">4.4.</strong> Pr√©requis</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-4.html"><strong aria-hidden="true">4.5.</strong> Pro Tips</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-5.html"><strong aria-hidden="true">4.6.</strong> Construction de Th√©orie</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-6.html"><strong aria-hidden="true">4.7.</strong> Lit de Procuste</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-7.html"><strong aria-hidden="true">4.8.</strong> Boule de Cristal</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-8.html"><strong aria-hidden="true">4.9.</strong> Crise de Croissance</a></li><li class="chapter-item expanded "><a href="2023-03-18-OW-9.html"><strong aria-hidden="true">4.10.</strong> Sens Partag√©</a></li></ol></li><li class="chapter-item expanded "><a href="ProductOwning.html"><strong aria-hidden="true">5.</strong> Product Owning</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-04-01-PO-0.html"><strong aria-hidden="true">5.1.</strong> Nouveau! üìØ</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-1.html"><strong aria-hidden="true">5.2.</strong> Jonglerie</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-2.html"><strong aria-hidden="true">5.3.</strong> conflit d'id√©es</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-3.html"><strong aria-hidden="true">5.4.</strong> Zombies</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-4.html"><strong aria-hidden="true">5.5.</strong> üè∑ Patterns et Conflits ‚öîÔ∏è</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-5.html"><strong aria-hidden="true">5.6.</strong> Horizons Bouch√©s, Nuages de Conflits</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-6.html"><strong aria-hidden="true">5.7.</strong> Expressions de Besoins</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-7.html"><strong aria-hidden="true">5.8.</strong> Examiner des conflits ü™ë üï≥ üî¶</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-8.html"><strong aria-hidden="true">5.9.</strong> Scrum √† la Rescousse üï≥ üöë</a></li><li class="chapter-item expanded "><a href="2023-04-01-PO-9.html"><strong aria-hidden="true">5.10.</strong> Ce n'est pas une question de r√¥le</a></li></ol></li><li class="chapter-item expanded "><a href="Plateaux.html"><strong aria-hidden="true">6.</strong> Plateaux</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-04-02-PL-1.html"><strong aria-hidden="true">6.1.</strong> Le Projet de Dorian Gray</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-2.html"><strong aria-hidden="true">6.2.</strong> L'id√©al ?</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-3.html"><strong aria-hidden="true">6.3.</strong> Fatalit√©s ?</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-4.html"><strong aria-hidden="true">6.4.</strong> Ralentir : Crise</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-5.html"><strong aria-hidden="true">6.5.</strong> Nouveaux Plateaux üåÑ</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-6.html"><strong aria-hidden="true">6.6.</strong> Sens Partag√©</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-7.html"><strong aria-hidden="true">6.7.</strong> √âtat de l'Art</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-8.html"><strong aria-hidden="true">6.8.</strong> Plateformes</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-9.html"><strong aria-hidden="true">6.9.</strong> Am√©lioration Continue</a></li><li class="chapter-item expanded "><a href="2023-04-02-PL-10.html"><strong aria-hidden="true">6.10.</strong> Engagements</a></li></ol></li><li class="chapter-item expanded "><a href="Producteurs.html"><strong aria-hidden="true">7.</strong> Producteurs</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-04-16-PR-1.html"><strong aria-hidden="true">7.1.</strong> Cavalcade</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-2.html"><strong aria-hidden="true">7.2.</strong> Travailler tard avant d'√™tre remplac√©</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-3.html"><strong aria-hidden="true">7.3.</strong> J'ai un myst√®re</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-4.html"><strong aria-hidden="true">7.4.</strong> Producteurs de Code</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-5.html"><strong aria-hidden="true">7.5.</strong> Software Factory</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-6.html"><strong aria-hidden="true">7.6.</strong> Etat de l'Art et Nouveaut√©</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-7.html"><strong aria-hidden="true">7.7.</strong> Nouvelles Conversations</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-8.html"><strong aria-hidden="true">7.8.</strong> Productivit√©</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-9.html"><strong aria-hidden="true">7.9.</strong> Am√©lioration Continue</a></li><li class="chapter-item expanded "><a href="2023-04-16-PR-10.html"><strong aria-hidden="true">7.10.</strong> Soir√©e Meetup</a></li></ol></li><li class="chapter-item expanded "><a href="Regulations.html"><strong aria-hidden="true">8.</strong> R√©gulation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-04-29-RE-1.html"><strong aria-hidden="true">8.1.</strong> Interactions</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-2.html"><strong aria-hidden="true">8.2.</strong> Pr√©venir &gt; Gu√©rir</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-3.html"><strong aria-hidden="true">8.3.</strong> Crash Fatal</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-4.html"><strong aria-hidden="true">8.4.</strong> Cliquets</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-5.html"><strong aria-hidden="true">8.5.</strong> M√©gapole</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-6.html"><strong aria-hidden="true">8.6.</strong> Des usines et du sable</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-7.html"><strong aria-hidden="true">8.7.</strong> Apprendre et s'adapter</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-8.html"><strong aria-hidden="true">8.8.</strong> Sprints √† Rallonges</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-9.html"><strong aria-hidden="true">8.9.</strong> Mon Indicateur de Productivit√©</a></li><li class="chapter-item expanded "><a href="2023-04-29-RE-10.html"><strong aria-hidden="true">8.10.</strong> R√©solution</a></li></ol></li><li class="chapter-item expanded "><a href="Prevention.html"><strong aria-hidden="true">9.</strong> Pr√©vention</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-05-01-PV-0.html"><strong aria-hidden="true">9.1.</strong> Quizz</a></li><li class="chapter-item expanded "><a href="2023-05-02-PV-1.html"><strong aria-hidden="true">9.2.</strong> Provisions</a></li><li class="chapter-item expanded "><a href="2023-05-03-PV-2.html"><strong aria-hidden="true">9.3.</strong> Double Boucle</a></li><li class="chapter-item expanded "><a href="2023-05-04-PV-3.html"><strong aria-hidden="true">9.4.</strong> Le Standard</a></li><li class="chapter-item expanded "><a href="2023-05-05-PV-4.html"><strong aria-hidden="true">9.5.</strong> Breakpoints</a></li><li class="chapter-item expanded "><a href="2023-05-08-PV-5.html"><strong aria-hidden="true">9.6.</strong> Couloirs</a></li><li class="chapter-item expanded "><a href="2023-05-09-PV-6.html"><strong aria-hidden="true">9.7.</strong> D√©trompeurs</a></li><li class="chapter-item expanded "><a href="2023-05-10-PV-7.html"><strong aria-hidden="true">9.8.</strong> Patinette</a></li><li class="chapter-item expanded "><a href="2023-05-11-PV-8.html"><strong aria-hidden="true">9.9.</strong> Rollers et Scooters</a></li><li class="chapter-item expanded "><a href="2023-05-12-PV-9.html"><strong aria-hidden="true">9.10.</strong> Artisanat</a></li></ol></li><li class="chapter-item expanded "><a href="Standard.html"><strong aria-hidden="true">10.</strong> Standard</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-05-15-ST-0.html"><strong aria-hidden="true">10.1.</strong> Revue et Standard</a></li><li class="chapter-item expanded "><a href="2023-05-16-ST-1.html"><strong aria-hidden="true">10.2.</strong> Sicob</a></li><li class="chapter-item expanded "><a href="2023-05-17-ST-2.html"><strong aria-hidden="true">10.3.</strong> Commentaires</a></li><li class="chapter-item expanded "><a href="2023-05-18-ST-3.html"><strong aria-hidden="true">10.4.</strong> Quinconce</a></li><li class="chapter-item expanded "><a href="2023-05-22-ST-4.html"><strong aria-hidden="true">10.5.</strong> Plus Moins Int√©ressant</a></li><li class="chapter-item expanded "><a href="2023-05-23-ST-5.html"><strong aria-hidden="true">10.6.</strong> Recadrage</a></li><li class="chapter-item expanded "><a href="2023-05-24-ST-6.html"><strong aria-hidden="true">10.7.</strong> Foire Aux Questions</a></li><li class="chapter-item expanded "><a href="2023-05-25-ST-7.html"><strong aria-hidden="true">10.8.</strong> Auto-Prescription</a></li></ol></li><li class="chapter-item expanded "><a href="Transmission.html"><strong aria-hidden="true">11.</strong> Transmission</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-05-29-TR-0.html"><strong aria-hidden="true">11.1.</strong> Transmission</a></li><li class="chapter-item expanded "><a href="2023-05-30-TR-1.html"><strong aria-hidden="true">11.2.</strong> Bras de Mer et Bras-Cass√©s</a></li><li class="chapter-item expanded "><a href="2023-06-03-TR-2.html"><strong aria-hidden="true">11.3.</strong> O√π apprendre et s'am√©liorer ?</a></li><li class="chapter-item expanded "><a href="2023-06-05-TR-3.html"><strong aria-hidden="true">11.4.</strong> Transmissions</a></li><li class="chapter-item expanded "><a href="2023-06-07-TR-4.html"><strong aria-hidden="true">11.5.</strong> Auto-Formation</a></li><li class="chapter-item expanded "><a href="2023-06-07-TR-5.html"><strong aria-hidden="true">11.6.</strong> Apprentissage, Performance</a></li></ol></li><li class="chapter-item expanded "><a href="Systemes.html"><strong aria-hidden="true">12.</strong> Syst√®mes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-06-26-SY-0.html"><strong aria-hidden="true">12.1.</strong> Diagrammes et Mod√®les 1</a></li><li class="chapter-item expanded "><a href="2023-06-27-SY-1.html"><strong aria-hidden="true">12.2.</strong> Diagrammes et Mod√®les 2</a></li><li class="chapter-item expanded "><a href="2023-06-28-SY-2.html"><strong aria-hidden="true">12.3.</strong> Diagrammes et Mod√®les 3</a></li><li class="chapter-item expanded "><a href="2023-06-29-SY-3.html"><strong aria-hidden="true">12.4.</strong> Diagrammes et Mod√®les 4</a></li><li class="chapter-item expanded "><a href="2023-06-30-SY-4.html"><strong aria-hidden="true">12.5.</strong> Diagrammes et Mod√®les 5</a></li><li class="chapter-item expanded "><a href="2023-07-03-SY-5.html"><strong aria-hidden="true">12.6.</strong> Diagrammes et Mod√®les 6</a></li><li class="chapter-item expanded "><a href="2023-07-04-SY-6.html"><strong aria-hidden="true">12.7.</strong> Diagrammes et Mod√®les 7</a></li><li class="chapter-item expanded "><a href="2023-07-05-SY-7.html"><strong aria-hidden="true">12.8.</strong> Diagrammes et Mod√®les 8</a></li><li class="chapter-item expanded "><a href="2023-07-06-SY-8.html"><strong aria-hidden="true">12.9.</strong> Diagrammes et Mod√®les 9</a></li><li class="chapter-item expanded "><a href="2023-07-09-SY-9.html"><strong aria-hidden="true">12.10.</strong> Diagrammes et Mod√®les 10</a></li></ol></li><li class="chapter-item expanded "><a href="Test.html"><strong aria-hidden="true">13.</strong> Test</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2023-09-06-TS-0.html"><strong aria-hidden="true">13.1.</strong> Et si on parlait tests ?</a></li><li class="chapter-item expanded "><a href="2023-09-06-TS-1.html"><strong aria-hidden="true">13.2.</strong> Strat√©gies</a></li><li class="chapter-item expanded "><a href="2023-09-25-TS-2.html"><strong aria-hidden="true">13.3.</strong> D√©fense vs Exploration (1)</a></li><li class="chapter-item expanded "><a href="2023-09-26-TS-3.html"><strong aria-hidden="true">13.4.</strong> D√©fense vs Exploration (2)</a></li><li class="chapter-item expanded "><a href="2023-09-27-TS-4.html"><strong aria-hidden="true">13.5.</strong> D√©fense vs Exploration (3)</a></li><li class="chapter-item expanded "><a href="2023-09-28-TS-5.html"><strong aria-hidden="true">13.6.</strong> D√©fense vs Exploration (4)</a></li><li class="chapter-item expanded "><a href="2023-09-29-TS-6.html"><strong aria-hidden="true">13.7.</strong> Jeu Quiz</a></li><li class="chapter-item expanded "><a href="2023-09-29-TS-7.html"><strong aria-hidden="true">13.8.</strong> Rationalisations</a></li><li class="chapter-item expanded "><a href="2023-09-30-TS-8.html"><strong aria-hidden="true">13.9.</strong> Pr√©jug√©s</a></li><li class="chapter-item expanded "><a href="2023-10-01-TS-9.html"><strong aria-hidden="true">13.10.</strong> Testeur et Programmeur</a></li><li class="chapter-item expanded "><a href="2023-10-02-TS-10.html"><strong aria-hidden="true">13.11.</strong> No Product</a></li></ol></li><li class="chapter-item expanded "><a href="Code.html"><strong aria-hidden="true">14.</strong> Code</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="2020-03-11-Diamond-Kata-PBT-TDD.html"><strong aria-hidden="true">14.1.</strong> The Diamond Kata: a mix of TDD and PBT</a></li><li class="chapter-item expanded "><a href="2020-05-17-Scratching-the-surface.html"><strong aria-hidden="true">14.2.</strong> Scratching the surface of Monad Transformers</a></li><li class="chapter-item expanded "><a href="2020-07-22-What-Problem-Are-You-Solving-Together.html"><strong aria-hidden="true">14.3.</strong> What Problem Are You Solving Together?</a></li><li class="chapter-item expanded "><a href="2020-08-24-Coding-Katas-And-Problem-Solving.html"><strong aria-hidden="true">14.4.</strong> Coding Katas and Problem Solving</a></li><li class="chapter-item expanded "><a href="2020-09-11-Forth-Bowling-Score.html" class="active"><strong aria-hidden="true">14.5.</strong> The Bowling Score Kata</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">ToF&#x27;s Blog</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-bowling-score-kata"><a class="header" href="#the-bowling-score-kata">The Bowling Score Kata</a></h1>
<p><em>2020-09-12</em></p>
<p>As I am currently rereading <a href="https://www.goodreads.com/book/show/2047737.Thinking_Forth?from_search=true&amp;from_srp=true&amp;qid=zZyppk8KWL&amp;rank=1">Leo Brodie's Thinking Forth</a>, I am amazed about how most of the program design tips in this 1984 book are still relevant today. The author's first book, <a href="https://www.goodreads.com/book/show/34007758-starting-forth?from_search=true&amp;from_srp=true&amp;qid=ShzB94AW1y&amp;rank=2">Starting Forth</a> initiated a life-long love story with programming for me, and Forth is still one of my favorite languages. In this post I will try to convey a sense of the Forth philosophy while solving the popular <em>Bowling Score Kata</em> using <a href="https://gforth.org/">gforth</a>. Although doing TDD in Forth is very easy, I choose to not include the tests in this post in order to keep it short.</p>
<!--more-->
<h2 id="the-problem-to-solve"><a class="header" href="#the-problem-to-solve">The Problem to Solve</a></h2>
<p>Write a program which, given a series of rolls delivered by a <em>Ten Pin Bowling</em> player, computes the current score of this player. The roll values will be consistent with the game rules: no illegal values (such as -1, 11 or values totaling more than 10 in a frame). In test cases where not all rolls have been played, the resulting value should be the minimum score obtained (i.e the score value if all the subsequent rolls were 0).</p>
<p>Here is an excerpt of the <a href="https://www.playerssports.net/page/bowling-rules#:~:text=Rules%20of%20play,before%20the%20next%20frame%20begins.">game rules</a>:</p>
<blockquote>
<p>A game of bowling consists of ten frames. In each frame, the bowler will have two chances to knock down as many pins as possible with their bowling ball. In games with more than one bowler, as is common, every bowler will take their frame in a predetermined order before the next frame begins. If a bowler is able to knock down all ten pins with their first ball, he is awarded a strike. If the bowler is able to knock down all 10 pins with the two balls of a frame, it is known as a spare. Bonus points are awarded for both of these, depending on what is scored in the next 2 balls (for a strike) or 1 ball (for a spare). If the bowler knocks down all 10 pins in the tenth frame, the bowler is allowed to throw 3 balls for that frame. This allows for a potential of 12 strikes in a single game, and a maximum score of 300 points, a perfect game.</p>
</blockquote>
<h2 id="specifications"><a class="header" href="#specifications">Specifications</a></h2>
<p>To make the expected behavior of the program clearer, here are some specs, in the format usually displayed on the SPOJ online judge. The program will read the input stream and print results on the output stream.</p>
<h3 id="input"><a class="header" href="#input">Input</a></h3>
<ul>
<li><em>t</em> ‚Äì the number of test cases, then t test cases follows.</li>
<li>each test case consists in 2 lines:
<ul>
<li><em>n</em> - the number of rolls delivered, ( 0 &lt; <em>n</em> ‚â§ 21 )</li>
<li><em>r1</em>,..<em>rn</em> - the rolls delivered    ( 0 ‚â§ <em>r</em> ‚â§ 10 )</li>
</ul>
</li>
</ul>
<h3 id="output"><a class="header" href="#output">Output</a></h3>
<p>For each test case output one integer: the score made by the player after they played all the rolls in the test case.</p>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<h3 id="input-1"><a class="header" href="#input-1">Input</a></h3>
<pre><code>3
2
4 6
4
10 7 3 5
12
10 10 10 10 10 10 10 10 10 10 10 10
</code></pre>
<h3 id="output-1"><a class="header" href="#output-1">Output</a></h3>
<pre><code>10
40
300
</code></pre>
<h2 id="solving-it-with-forth"><a class="header" href="#solving-it-with-forth">Solving it with Forth</a></h2>
<h3 id="main-routine"><a class="header" href="#main-routine">Main Routine</a></h3>
<p>Let's pretend we have one of these bowling score sheets and use it to mark the points made as we receive the numbers: <em>10</em>, <em>7</em>, <em>3</em>, <em>5</em>:</p>
<p><em>10</em> : we mark a strike <code>X</code> and are ready to use the next frame column on the sheet. The score for the frame is still not calculable given that the next frame throws are not known yet.</p>
<p align="center"> <img src="/images/score_sheet1.png" width="75%" /> </p>
*7* : we mark a 7 on the first column of the frame. The score for frame 1 is still not known yet, as we are expecting two more rolls to determine it.
<p align="center"> <img src="/images/score_sheet2.png" width="75%" /> </p>
*3* : we mark a spare `/` and are ready to use the next frame column. The score for the first frame is 20, and the score for this frame is not known yet, as we are expecting a bonus from the next throw.
<p align="center"> <img src="/images/score_sheet3.png" width="75%" /> </p>
*5* : we mark a 5 on the first column of the frame. The score for frame 1 + frame 2 is 35.
<p align="center"> <img src="/images/score_sheet4.png" width="75%" /> </p>
<p>So what we routinely do to keep the score is:</p>
<ul>
<li>mark the points made for the current frame</li>
<li>keep track of the bonus generated by a strike or a spare</li>
<li>collect the extra points when the roll corresponding to a bonus is being delivered and mark the score on the corresponding frame column</li>
<li>decide, depending on the roll delivered, if we have to &quot;close the frame&quot;, meaning go to a new frame column or play again in the current frame (&quot;open frame&quot;)</li>
<li>keep track of how many frame were already played in order to count the last supplementary rolls as part of the 10th frame, and not the beginning of a new frame.</li>
<li>and of course, add the points (roll + extra) to the current score</li>
</ul>
<p>This is basically what our main routine will have to do when given a value on the stack. The only difference is that our program will not need to mark the points and the score for each specific frame, just to keep the score updated. Here is some pseudo-code:</p>
<pre style="color:#000000;background:#F2F2F2;"><span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">ROLL+</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">collect extra point from previous bonus applied to the #pins value 
</span>    <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">frame count is between 0 and 9)</span> <span style="color:#993300; font-weight:bold;">IF</span>
    <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">add the roll value to the score 
    ( check for bonus with this value given the current frame state )</span>
    <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">close the frame or make it open depending on bonus found )</span>
    <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">increase frame count if the frame is closed )</span>
    <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<h3 id="keeping-the-score"><a class="header" href="#keeping-the-score">Keeping the Score</a></h3>
<p>The first thing we obviously need is a variable to memorize the player's score. Since that variable needs to be initialized, let's also create a definition to that effect:</p>
<pre style="color:#000000;background:#F2F2F2;"><span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">SCORE</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">START</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>Surely we will need to amend this definition to include several other variables.</p>
<h3 id="bonus"><a class="header" href="#bonus">Bonus</a></h3>
<p>Let's interest ourselves in the bonus mechanism. When the player delivers a strike, their next roll and the following roll will be added as bonus. When the player delivers several strikes in a row, then the next roll will be added <em>twice</em> as a bonus.</p>
<pre><code>roll    10  10  10   10   3
bonus       1   1+1  1+1
suppl       1   1    1
</code></pre>
<p>Bonus works like it is provided by a dispenser: we feed the dispenser with bonus points gained from a strike or a spare, and these bonus points generate a multiplication factor for the subsequent rolls that are added to the game. Once the bonus factor for a roll is consumed, the dispenser is ready to provide the bonus factor to be used with the next roll.</p>
<p align="center"> <img src="/images/bonus.png" width="33%" /> </p>
Since there are only 2 factors to consider and these are tiny values, we can store them in the same variable, which makes switching from bonus to supplementary bonus easy. The bonus part will occupy bits 0 to 1, while the supplementary part will be represented by bit 2.
<pre style="color:#000000;background:#F2F2F2;"><span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">SCORE</span>
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">BONUS</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">START</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>A spare creates a bonus factor of 1 and sets the next bonus factor to 0:</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">SPARE</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">set the bonus to 1, no supplement
</span>    <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>A strike increments the current bonus factor, and sets the next bonus factor (bit 3) to 1 with a bitwise <code>OR</code> operation:</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">STRIKE</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">increase bonus, and set supplement to 1
</span>    <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#CC6600; font-weight:bold;">1+</span> <span style="color:#800000; font-weight:bold;">4</span> <span style="color:#CC6600; font-weight:bold;">OR</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>Consuming the bonus consists in isolating the bonus value (bits 0 and 1) with a bitwise <code>AND</code>, leaving that value on the stack and then right-shifting the bonus value by 2 positions on the right to make the next bonus (bit 2) the current bonus.</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">BONUS&gt;</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- n )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">produce bonus factor, get supplement ready
</span>    <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#CC6600; font-weight:bold;">AND</span>
    <span style="color:#009999; font-weight:bold;">SWAP</span> <span style="color:#CC6600; font-weight:bold;">2/</span> <span style="color:#CC6600; font-weight:bold;">2/</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>Now let's try our definitions.</p>
<pre><code>    START BONUS&gt; .  ‚èé
    0 ok
    START SPARE BONUS&gt; . BONUS&gt; . ‚èé
    1 0 ok
    START STRIKE BONUS&gt; . BONUS&gt; . ‚èé
    1 1 ok
    START STRIKE BONUS&gt; . STRIKE BONUS&gt; . BONUS&gt; . ‚èé
    1 2 1
</code></pre>
<p>We can see that our dispenser keeps track of the bonus factors to apply.</p>
<h3 id="collecting-bonus"><a class="header" href="#collecting-bonus">Collecting Bonus</a></h3>
<p>Collecting the bonus can be done by multiplying the roll value by the bonus factor, and adding that to the score.</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">COLLECT-BONUS</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">add extra points to score and advance bonus
</span>    <span style="color:#336699; font-weight:bold;">BONUS&gt;</span> <span style="color:#CC6600; font-weight:bold;">*</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">+!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<h3 id="frame-count"><a class="header" href="#frame-count">Frame Count</a></h3>
<p>Obviously we will have to remember how many frames the player has played. This requires another variable, and this variable should also be initialized at the outset of a game.</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">SCORE</span>
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">BONUS</span>
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">FRAME#</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">START</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>The frame count has to be incremented every time the player <em>closes</em> a frame (i.e delivers a strike or throw their second roll), but it will not go beyond 10:</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">FRAME#&gt;</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">advance frame count
</span>    <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#CC6600; font-weight:bold;">1+</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">MIN</span> <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<h3 id="frame-state"><a class="header" href="#frame-state">Frame State</a></h3>
<p>When adding a roll to the game, how can we know if that roll is part of an open frame or if it starts a new frame? We have to keep track of the current frame state. If the frame is open, then we should be able to retrieve the first roll value from this frame.</p>
<p align="center"> <img src="/images/framestate.png" width="33%" /> </p>
Let's introducte another variable:
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">FRAME</span>
</pre>
A frame is either a new frame, meaning the player hasn't thrown her first roll yet, or an open frame, meaning the player has already thrown one roll. We can consider that when the value of the `FRAME` variable is 0, then it is a new frame, an open frame otherwise:
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">OPEN-FRAME?</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- ? )</span>
    <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#993300; font-weight:bold;">;</span>
<p><span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">NEW-FRAME?</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- ? )</span>
<span style="color:#336699; font-weight:bold;">OPEN-FRAME?</span> <span style="color:#CC6600; font-weight:bold;">0=</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre></p>
<p>The player &quot;closes&quot; the frame when she delivers a strike at first roll, or delivers the second roll.  Marking the frame as closed can be done by setting the frame state to zero, and advancing the frame count.</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CLOSE-FRAME</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">close frame and increment frame count
</span>    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#336699; font-weight:bold;">FRAME#&gt;</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>The player &quot;opens&quot; the frame when the first roll is not a strike. Then the program has to store the value of this roll, and set the frame to <em>open</em>, i.e not zero. This can be done in a single step if we consider the value of the frame to equal the last roll + 1. Since the roll value can be a number from 0 to 9, a frame value between 1 and 10 means the frame is open and the last roll value is this frame value minus 1.</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">OPEN-FRAME</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">open frame, saving 1st roll value+1
</span>    <span style="color:#CC6600; font-weight:bold;">1+</span> <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">LAST-ROLL</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- #pins )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">retrieve the first roll value
</span>    <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#CC6600; font-weight:bold;">1-</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>Again, we need to initialize the frame state before the game starts.</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">START</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>And now we can try our definitions.</p>
<pre><code>    START NEW-FRAME? .  ‚èé
    -1 ok
    7 OPEN-FRAME NEW-FRAME? . OPEN-FRAME? . LAST-ROLL .  ‚èé
    0 -1 7 ok
    3 OPEN-FRAME CLOSE-FRAME NEW-FRAME? .  ‚èé
    -1 ok
</code></pre>
<h3 id="checking-for-bonus"><a class="header" href="#checking-for-bonus">Checking for Bonus</a></h3>
<p>So far, we have word definitions to collect the bonus, declare a strike or a spare, increment the frame count, and update the frame state. What we need now is a word that will qualify the roll value that has been delivered, implementing the following rules:</p>
<ul>
<li>
<p>We have a strike if the roll is a 10 <em>and</em> we are in a new frame. In that case, add points to the bonus and close the frame.</p>
</li>
<li>
<p>If the frame is new but we don't have a strike then open the frame, saving the roll value.</p>
</li>
<li>
<p>We have a spare if the frame is open and the sum of the rolls in the frame is equal to 10.</p>
</li>
<li>
<p>If the frame is open, wether we have a spare or not we have to close the frame.</p>
</li>
</ul>
<p align="center"> <img src="/images/checkbonus.png" width="50%" /> </p>
<p>Hence the words:</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CHECK-STRIKE</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">=</span> <span style="color:#993300; font-weight:bold;">IF</span>
        <span style="color:#009999; font-weight:bold;">DROP</span> <span style="color:#336699; font-weight:bold;">STRIKE</span> <span style="color:#336699; font-weight:bold;">CLOSE-FRAME</span>
    <span style="color:#993300; font-weight:bold;">ELSE</span>
        <span style="color:#336699; font-weight:bold;">OPEN-FRAME</span>
    <span style="color:#993300; font-weight:bold;">THEN</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CHECK-SPARE</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#336699; font-weight:bold;">LAST-ROLL</span> <span style="color:#CC6600; font-weight:bold;">+</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">=</span> <span style="color:#993300; font-weight:bold;">IF</span> <span style="color:#336699; font-weight:bold;">SPARE</span> <span style="color:#993300; font-weight:bold;">THEN</span>
    <span style="color:#336699; font-weight:bold;">CLOSE-FRAME</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CHECK-BONUS</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#336699; font-weight:bold;">NEW-FRAME?</span> <span style="color:#993300; font-weight:bold;">IF</span> <span style="color:#336699; font-weight:bold;">CHECK-STRIKE</span> <span style="color:#993300; font-weight:bold;">ELSE</span> <span style="color:#336699; font-weight:bold;">CHECK-SPARE</span> <span style="color:#993300; font-weight:bold;">THEN</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<h3 id="adding-a-roll-to-the-current-score"><a class="header" href="#adding-a-roll-to-the-current-score">Adding a Roll to the Current Score</a></h3>
<p>We are almost done. Adding a roll to the game will execute these tasks of collecting bonus, adding the roll points to the score, checking for new bonus, and advancing the frame count. These last 3 tasks has to be executed only if the frame count is below 10, if it's not the case, then the roll value is dropped instead.</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">ROLL+</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#336699; font-weight:bold;">COLLECT-BONUS</span>
    <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#993300; font-weight:bold;">WITHIN</span> <span style="color:#993300; font-weight:bold;">IF</span>
        <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">+!</span>
        <span style="color:#336699; font-weight:bold;">CHECK-BONUS</span>
    <span style="color:#993300; font-weight:bold;">ELSE</span>
        <span style="color:#009999; font-weight:bold;">DROP</span>
    <span style="color:#993300; font-weight:bold;">THEN</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>Let's try our word!</p>
<pre><code>    START 4 ROLL+ SCORE ?  ‚èé
    4  ok
    6 ROLL+ SCORE ?  ‚èé
    10  ok
    3 ROLL+ 2 ROLL+ SCORE ?  ‚èé
    18  ok
    10 ROLL+ SCORE ?  ‚èé
    28  ok
    4 ROLL+ 2 ROLL+ SCORE ?  ‚èé
    40  ok
    10 ROLL+ SCORE ?  ‚èé
    50  ok
    10 ROLL+ SCORE ?  ‚èé
    70  ok
    6 ROLL+ 4 ROLL+ SCORE ?  ‚èé
    96  ok
    3 ROLL+ 5 ROLL+ SCORE ?  ‚èé
    107  ok
    10 ROLL+ SCORE ?  ‚èé
    117  ok
    8 ROLL+ 2 ROLL+ 7 ROLL+ SCORE ?  ‚èé
    144  ok
    : PERFECT START 12 0 DO 10 ROLL+ LOOP SCORE ? ; PERFECT ‚èé
    300  ok
</code></pre>
<p>Success!</p>
<h2 id="getting-numbers-from-the-input-stream"><a class="header" href="#getting-numbers-from-the-input-stream">Getting Numbers From the Input Stream</a></h2>
<p>To get a number, we have to read the input stream character by character, skipping them until we find a digit, then reading characters while these are digits, accumulating them into the resulting number.</p>
<p>The standard word <code>DIGIT? ( char -- n,-1|0 )</code> returns <em>false</em> if the character on the stack is not a digit, or <em>true</em>, preceded with the matching digit otherwise.</p>
<pre><code>    CHAR # DUP . DIGIT? .  ‚èé
    35 0  ok
    CHAR 2 DUP . DIGIT? . .   ‚èé
    50 -1 2  ok
</code></pre>
<p>Here's a word to skip all input characters until a digit is met:</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">SKIP-NON-DIGIT</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- n )</span>
    <span style="color:#993300; font-weight:bold;">BEGIN</span> <span style="color:#3D3D5C; font-weight:bold;">KEY</span> <span style="color:#3D3D5C; font-weight:bold;">DIGIT?</span> <span style="color:#CC6600; font-weight:bold;">0=</span> <span style="color:#993300; font-weight:bold;">WHILE</span> <span style="color:#993300; font-weight:bold;">REPEAT</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>And here's a word to get a number:</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- n )</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">SKIP-NON-DIGIT</span>
    <span style="color:#993300; font-weight:bold;">BEGIN</span>
        <span style="color:#009999; font-weight:bold;">SWAP</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">*</span> <span style="color:#CC6600; font-weight:bold;">+</span>
        <span style="color:#3D3D5C; font-weight:bold;">KEY</span> <span style="color:#3D3D5C; font-weight:bold;">DIGIT?</span>
    <span style="color:#CC6600; font-weight:bold;">0=</span> <span style="color:#993300; font-weight:bold;">UNTIL</span> <span style="color:#993300; font-weight:bold;">;</span>

</pre>
<pre><code>    GET-NUMBER . ‚èé
    foo4807  ‚èé
    4807 ok
</code></pre>
<h2 id="main-program"><a class="header" href="#main-program">Main program</a></h2>
<p>Armed with this word, we can now add the top definition to our program: </p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">BOWLING</span>
    <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#993300; font-weight:bold;">DO</span>
        <span style="color:#336699; font-weight:bold;">START</span>
        <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#993300; font-weight:bold;">DO</span>
            <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#336699; font-weight:bold;">ROLL+</span>
        <span style="color:#993300; font-weight:bold;">LOOP</span>
        <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#3D3D5C; font-weight:bold;">?</span> <span style="color:#3D3D5C; font-weight:bold;">CR</span>
    <span style="color:#993300; font-weight:bold;">LOOP</span> <span style="color:#993300; font-weight:bold;">;</span>
</pre>
<p>The last commands in the program will execute our <code>BOWLING</code> word and leave <em>gforth</em>:</p>
<pre style="color:#000000;background:#F2F2F2;">
<span style="color:#336699; font-weight:bold;">BOWLING</span>
<span style="color:#3D3D5C; font-weight:bold;">BYE</span>
</pre>
<h1 id="testing"><a class="header" href="#testing">Testing</a></h1>
<p>Let's put our program to test.  Given the this input file:</p>
<pre><code># input.dat: a test file for Bowling.fs
    5
    4
    3 5 2 7
    6
    10 5 4 10 5 2
    12
    10 10 10 10 10 10 10 10 10 10 10 10
    20
    3 5 3 5 3 5 3 5 3 5 3 5 3 5 3 5 3 5 3 5
    3
    10 10 10
</code></pre>
<p>The following result is obtained:</p>
<pre><code>    gforth Bowling.fs &lt;input.dat ‚èé
    17
    52
    300
    80
    60
</code></pre>
<p>Et voil√†! The Bowling Score Kata, in Forth.</p>
<h1 id="the-program"><a class="header" href="#the-program">The Program</a></h1>
<p>The program and tests can be found <a href="https://github.com/ToF-/ForthBowlingScore">here</a></p>
<pre style="color:#000000;background:#F2F2F2;"><span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">Bowling.fs          gforth Bowling.fs &lt;input.dat
</span><span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">SCORE</span>
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">BONUS</span>
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">FRAME#</span>
<span style="color:#F07F00; font-weight:bold;">VARIABLE</span> <span style="color:#336699; font-weight:bold;">FRAME</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">START</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">!</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">SPARE</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">set the bonus to 1, no supplement
</span>    <span style="color:#800000; font-weight:bold;">1</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">STRIKE</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">increase bonus, and set supplement to 1
</span>    <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#CC6600; font-weight:bold;">1+</span> <span style="color:#800000; font-weight:bold;">4</span> <span style="color:#CC6600; font-weight:bold;">OR</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">BONUS&gt;</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- n )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">produce bonus factor, get supplement ready
</span>    <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#800000; font-weight:bold;">3</span> <span style="color:#CC6600; font-weight:bold;">AND</span>
    <span style="color:#009999; font-weight:bold;">SWAP</span> <span style="color:#CC6600; font-weight:bold;">2/</span> <span style="color:#CC6600; font-weight:bold;">2/</span> <span style="color:#336699; font-weight:bold;">BONUS</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">COLLECT-BONUS</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">add extra points to score and advance bonus
</span>    <span style="color:#336699; font-weight:bold;">BONUS&gt;</span> <span style="color:#CC6600; font-weight:bold;">*</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">+!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">FRAME#&gt;</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">advance frame count
</span>    <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#CC6600; font-weight:bold;">1+</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">MIN</span> <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">OPEN-FRAME?</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- ? )</span>
    <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CLOSE-FRAME</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">close frame and increment frame count
</span>    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#336699; font-weight:bold;">FRAME#&gt;</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">NEW-FRAME?</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- ? )</span>
    <span style="color:#336699; font-weight:bold;">OPEN-FRAME?</span> <span style="color:#CC6600; font-weight:bold;">0=</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">OPEN-FRAME</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">open frame, saving 1st roll value+1
</span>    <span style="color:#CC6600; font-weight:bold;">1+</span> <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">!</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">LAST-ROLL</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- #pins )</span> <span style="color:#669999; font-weight:bold;">\</span> <span style="color:#669999; font-weight:bold;">retrieve the first roll value
</span>    <span style="color:#336699; font-weight:bold;">FRAME</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#CC6600; font-weight:bold;">1-</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CHECK-STRIKE</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">=</span> <span style="color:#993300; font-weight:bold;">IF</span>
        <span style="color:#009999; font-weight:bold;">DROP</span> <span style="color:#336699; font-weight:bold;">STRIKE</span> <span style="color:#336699; font-weight:bold;">CLOSE-FRAME</span>
    <span style="color:#993300; font-weight:bold;">ELSE</span>
        <span style="color:#336699; font-weight:bold;">OPEN-FRAME</span>
    <span style="color:#993300; font-weight:bold;">THEN</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CHECK-SPARE</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#336699; font-weight:bold;">LAST-ROLL</span> <span style="color:#CC6600; font-weight:bold;">+</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">=</span> <span style="color:#993300; font-weight:bold;">IF</span> <span style="color:#336699; font-weight:bold;">SPARE</span> <span style="color:#993300; font-weight:bold;">THEN</span>
    <span style="color:#336699; font-weight:bold;">CLOSE-FRAME</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">CHECK-BONUS</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#336699; font-weight:bold;">NEW-FRAME?</span> <span style="color:#993300; font-weight:bold;">IF</span> <span style="color:#336699; font-weight:bold;">CHECK-STRIKE</span> <span style="color:#993300; font-weight:bold;">ELSE</span> <span style="color:#336699; font-weight:bold;">CHECK-SPARE</span> <span style="color:#993300; font-weight:bold;">THEN</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">ROLL+</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">#pins -- )</span>
    <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#336699; font-weight:bold;">COLLECT-BONUS</span>
    <span style="color:#336699; font-weight:bold;">FRAME#</span> <span style="color:#CC3300; font-weight:bold;">@</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#993300; font-weight:bold;">WITHIN</span> <span style="color:#993300; font-weight:bold;">IF</span>
        <span style="color:#009999; font-weight:bold;">DUP</span> <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#CC3300; font-weight:bold;">+!</span>
        <span style="color:#336699; font-weight:bold;">CHECK-BONUS</span>
    <span style="color:#993300; font-weight:bold;">ELSE</span>
        <span style="color:#009999; font-weight:bold;">DROP</span>
    <span style="color:#993300; font-weight:bold;">THEN</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">SKIP-NON-DIGIT</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- n )</span>
    <span style="color:#993300; font-weight:bold;">BEGIN</span> <span style="color:#3D3D5C; font-weight:bold;">KEY</span> <span style="color:#3D3D5C; font-weight:bold;">DIGIT?</span> <span style="color:#CC6600; font-weight:bold;">0=</span> <span style="color:#993300; font-weight:bold;">WHILE</span> <span style="color:#993300; font-weight:bold;">REPEAT</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#669999; font-weight:bold;">(</span> <span style="color:#669999; font-weight:bold;">-- n )</span>
    <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#336699; font-weight:bold;">SKIP-NON-DIGIT</span>
    <span style="color:#993300; font-weight:bold;">BEGIN</span>
        <span style="color:#009999; font-weight:bold;">SWAP</span> <span style="color:#800000; font-weight:bold;">10</span> <span style="color:#CC6600; font-weight:bold;">*</span> <span style="color:#CC6600; font-weight:bold;">+</span>
        <span style="color:#3D3D5C; font-weight:bold;">KEY</span> <span style="color:#3D3D5C; font-weight:bold;">DIGIT?</span>
    <span style="color:#CC6600; font-weight:bold;">0=</span> <span style="color:#993300; font-weight:bold;">UNTIL</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#F07F00; font-weight:bold;">:</span> <span style="color:#336699; font-weight:bold;">BOWLING</span>
    <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#993300; font-weight:bold;">DO</span>
        <span style="color:#336699; font-weight:bold;">START</span>
        <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#800000; font-weight:bold;">0</span> <span style="color:#993300; font-weight:bold;">DO</span>
            <span style="color:#336699; font-weight:bold;">GET-NUMBER</span> <span style="color:#336699; font-weight:bold;">ROLL+</span>
        <span style="color:#993300; font-weight:bold;">LOOP</span>
        <span style="color:#336699; font-weight:bold;">SCORE</span> <span style="color:#3D3D5C; font-weight:bold;">?</span> <span style="color:#3D3D5C; font-weight:bold;">CR</span>
    <span style="color:#993300; font-weight:bold;">LOOP</span> <span style="color:#993300; font-weight:bold;">;</span>

<span style="color:#336699; font-weight:bold;">BOWLING</span>
<span style="color:#3D3D5C; font-weight:bold;">BYE</span>
</pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="2020-08-24-Coding-Katas-And-Problem-Solving.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="2020-08-24-Coding-Katas-And-Problem-Solving.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
